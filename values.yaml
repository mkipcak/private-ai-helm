# Select a cloud provider. Must be one of "Azure", "AWS", or "Other"
cloudProvider: "Azure"

replicaCount: 1

image:
  repository: "crprivateaiprod.azurecr.io/deid"
  pullPolicy: "IfNotPresent"
  # Can be a direct version tag / container flavour (i.e. 4.0.4-cpu-text) OR a 'latest' tag (i.e. cpu, cpu-text, gpu, gpu-text)
  tag: "4.1.0-cpu"

# Change this to true if you have a cluster that has nodes with Nvidia GPUs available and would like to run the GPU container
gpuEnabled: false

imagePullSecrets:
  # This secret will store your docker pull credentials. You can obtain these from the customer portal
  - name: "crprivateaiprod-creds"

nameOverride: ""
fullnameOverride: ""

podAnnotations: {}

service:
  type: "LoadBalancer"
  port: 80
  targetPort: 8080
  timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 120
    periodSeconds: 1800
  startupProbe:
    initialDelaySeconds: 60
    periodSeconds: 10
  readinessProbe:
    initialDelaySeconds: 60
    periodSeconds: 60

license:
  name: "pai-license"
  volumeMount: "license-volume"
  mountPath: "/app/license"
  data: 'Override with your license data. See readme for more details'

envVars: []
  # Enter any environment variables for your deployment. You can find the list at https://docs.private-ai.com/environment-variables/
  # - name: "PAI_DISABLE_RAM_CHECK"
  #   value: "true"

# Configuration for the cert-manager subchart
certmanager:
  enabled: false
  namespace: "cert-manager"
  clusterResourceNamespace: "private-ai"
  crds:
    enabled: true
    # Change keep flag to false if you would like helm to remove the cert-manager CRDs on uninstall
    keep: true
  # Required webhook settings if deploying to AWS with the VPC-CNI pluggin
  # webhook:
  #   hostNetwork: true
  #   securePort: 10255

# Configuration for the ingress-nginx subchart
ingressnginx:
  enabled: false
  # Azure load balancer settings for the internal Private AI service
  # controller:
  #   service:
  #     annotations:
  #       service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path: "/healthz"
  #     externalTrafficPolicy: "Local"
  # AWS load balancer setting for the internal Private AI service
  # controller:
  #   service:
  #     internal:
  #       enabled: true
  #       annotations:
  #         service.beta.kubernetes.io/aws-load-balancer-scheme: "internal"

# Specifies whether to deploy the kubernetes ingress
# Requires ingress-nginx and cert-manager to be installed
ingress:
  enabled: false
  # Set the class to handle the ingress traffic. Default to nginx
  ingressClassName: "nginx"
  # Set your own custom annotations
  annotations: {}
  # annotations: {
  #   alb.ingress.kubernetes.io/ip-address-type: "ipv4"
  # }
  # Provision selfsigned certificates by default. Change if you wish to customize
  selfsigned: true
  # Replace this with the domain name for the ingress
  host: "ingress.domain.com"
  tlsSecretName: "private-ai-tls"
